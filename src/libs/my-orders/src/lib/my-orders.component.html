<div class="container py-5">
  <h2>My Orders</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Ngày đặt</th>
          <th>SĐT</th>
          <th>Địa chỉ</th>
          <th>Tổng tiền</th>
          <th>Trạng thái đơn</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of (orders$ | async) ?? []">
          <td>{{item.orderDate}}</td>
          <td>{{item.phone}}</td>
          <td>{{item.address}}</td>
          <td>{{item.status}}</td>
          <td>{{item.totalAmount ?? 0 | vndFormat}}</td>
          <td>
            <button class="btn btn-primary" (click)="openModal(item)">Chi tiết</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="w-100 p-2 text-end">
    <div *ngIf="showModal$ | async" class="modal" tabindex="-1" role="dialog"
      style="height: auto; width: auto; min-width: 365px;">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Order</h5>
            <button (click)="closeModal()" type="button" class="btn-close custom-close-btn" data-bs-dismiss="modal"
              aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <order [items]="(items$| async) ?? []" [phone]="(phone$ | async) ?? ''" [shippingAddress]="(address$ | async) ?? ''" [paymentMethod]="(paymentStatus$ | async) ?? ''" [readonly]="true" (actionEvent)="handelCloseModal()"></order>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>